<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Socket.IO Example</title>
</head>
<body>
    <h1>Socket.IO Example</h1>

  

    <!-- Include Socket.IO from CDN -->
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    <script>
        var name=""
        // Establish a connection to the server
        function joinRoom(){
            debugger
            const socket = io('localhost:3000');
            var url_string = window.location.href;
            var url = new URL(url_string);
            var user={name: name? name:""}
            var paramValue = url.searchParams.get("join");
            var roomId=paramValue;
            socket.emit('joinRoom', { roomId,user});
            socket.on("userJoined", (data) => {
                console.log('New User Joined :', data);
            });
            socket.on("error", (data) => {
                console.log('Error', data);
            });
        }
        joinRoom()
        
    </script>
</body>
</html>
